#!/usr/bin/env ruby
require_relative '../lib/srl_ruby/srl_ruby'


# Parse the input expression in command-line
if ARGV.empty?
  my_name = File.basename(__FILE__)
  msg = <<-END_MSG
Simple Regex Language parser:
- Parses a subset of the SRL language and displays the parse tree

Command-line syntax:
  ruby #{my_name} "SRL expression"
  where:
    the SRL expression is enclosed between double quotes (")

  Examples:
  ruby #{my_name} "letter from a to f exactly 4 times"
  ruby #{my_name} "uppercase letter between 2 and 3 times"
  ruby #{my_name} "digit from 0 to 7 once or more"
END_MSG
  puts msg
  exit(1)
end
puts 'SRL input: ' + ARGV[0]
puts 'Resulting Regexp: /' + SrlRuby.parse(ARGV[0]) + '/'

# End of file
